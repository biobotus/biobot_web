{% extends "layout_analysis.html" %}

{% block includes %}
    {{ super() }}
    <script src="{{ url_for('static', filename='js/jquery.dataTables.columnFilter.js') }}"></script>
{% endblock includes %}

{% block content_bottom %}
    <h3>Bacterial colonies characteristics</h3>
    <table id="table" class="table table-striped table-bordered table-hover" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th>ID</th>
                <th>Color</th>
                <th>Area</th>
                <th>Perimeter</th>
                <th>Excentricity</th>
                <th>X coordinate</th>
                <th>Y coordinate</th>
            </tr>
        </thead>
        <tbody>
            {% for colony in colonies %}
                <tr>
                    <td>{{colony['id']}}</td>
                    <td><span class="glyphicon glyphicon-stop" aria-hidden=true style="color:{{colony['color']}}"></span> {{colony['color_text']}}</td>
                    <td>{{"{0:.2f} px<sup>2</sup>".format(colony['area'])|safe}}</td>
                    <td>{{"{0:.2f} px".format(colony['perimeter'])}}</td>
                    <td>{{"{0:.2f}".format(colony['excentricity'])}}</td>
                    <td>{{"{0:.2f} px".format(colony['y'])}}</td>
                    <td>{{"{0:.2f} px".format(colony['x'])}}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <script>
        $(document).ready(function() {
            var table = $('#table').dataTable({
                "lengthMenu": [[5, 25, 100, -1], [5, 25, 100, "All"]]
            }).columnFilter({
                sPlaceHolder: "head:before",
                aoColumns:[
                    null,
                    {type: "select", values: {{colors|safe}}}
                ]
            });
            table.on('draw.dt', setHeightSidebar);
        });
    </script>
{% endblock content_bottom %}

